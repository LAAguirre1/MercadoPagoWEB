@model MercadoPagoWEB.Models.TransferenciaViewModel

@{
    ViewBag.Title = "Realizar Transferencia";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5">
    <div class="row">
        @* Centramos el formulario en la pantalla, similar a tu vista de Billetera *@
        <div class="col-lg-6 offset-lg-3">

            <h2>@ViewBag.Title</h2>
            <p class="text-secondary">Ingresa los datos para enviar dinero a otra cuenta.</p>
            <hr />

            <div class="card shadow-sm border-0" style="border-radius: 1rem;">
                <div class="card-body p-4">

                    @using (Html.BeginForm("Transferir", "Billetera", FormMethod.Post, new { role = "form" }))
                    {
                        @* Token de seguridad contra ataques CSRF *@
                        @Html.AntiForgeryToken()

                        @* Aquí se mostrarán los errores a nivel de modelo (no de un campo específico)
                            Ej: "Saldo insuficiente", "Cuenta de destino no existe", etc.
                        *@
                        @Html.ValidationSummary(false, "", new { @class = "alert alert-danger" })

                        <div class="mb-3">
                            @Html.LabelFor(m => m.CvuOAliasDestino, new { @class = "form-label fw-bold" })
                            @Html.EditorFor(m => m.CvuOAliasDestino, new { htmlAttributes = new { @class = "form-control form-control-lg", @placeholder = "Ingresa CVU o Alias" } })
                            @Html.ValidationMessageFor(m => m.CvuOAliasDestino, "", new { @class = "text-danger" })
                        </div>

                        <div class="mb-3">
                            @Html.LabelFor(m => m.Monto, new { @class = "form-label fw-bold" })
                            @Html.EditorFor(m => m.Monto, new { htmlAttributes = new { @class = "form-control form-control-lg", @type = "number", @step = "0.01", @min = "0.01", @placeholder = "$ 0.00" } })
                            @Html.ValidationMessageFor(m => m.Monto, "", new { @class = "text-danger" })
                        </div>

                        <div class="mb-3">
                            @Html.LabelFor(m => m.Descripcion, new { @class = "form-label fw-bold" })
                            @Html.TextAreaFor(m => m.Descripcion, new { @class = "form-control", @rows = 3, @placeholder = "Ej: Regalo de cumpleaños" })
                            @Html.ValidationMessageFor(m => m.Descripcion, "", new { @class = "text-danger" })
                        </div>

                        @* Usamos d-grid para que el botón ocupe todo el ancho,
                            coincidiendo con el estilo de tu MiBilletera.cshtml
                        *@
                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-primary btn-lg">Transferir Dinero 📤</button>
                        </div>

                        <div class="text-center mt-3">
                            @* Enlace para volver (le quitamos el subrayado) *@
                            @Html.ActionLink("Cancelar y volver a Mi Billetera", "Index", "Billetera", null, new { @class = "text-decoration-none" })
                        </div>
                    }

                </div>
            </div>

        </div>
    </div>
</div>

@* Opcional: Si no los tienes en tu _Layout.cshtml, descomenta estas líneas
    para habilitar las validaciones del lado del cliente.
*@
@* AHORA SÍ, QUITA LOS COMENTARIOS DE ESTA SECCIÓN *@
@section Scripts {
    @* Reemplazamos el bundle por las rutas directas a los archivos que instalaste.
        NOTA: Esto asume que jQuery (ej: jquery-3.7.1.min.js) ya se carga
        en tu _Layout.cshtml, lo cual es lo estándar.
    *@
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
}