@model MercadoPagoWEB.Models.IngresarDineroViewModel

@{
    ViewBag.Title = "Ingresar Dinero";
    // Usamos el layout limpio para una acción enfocada
    Layout = "~/Views/Shared/_LayoutLimpio.cshtml";
}

<div class="row justify-content-center">
    <div class="col-lg-5 col-md-8">

        <div class="text-center mb-4">
            <h2 class="fw-bold">Ingresar Dinero</h2>
            <p class="text-muted">Simula un ingreso a tu cuenta.</p>
        </div>

        @* Mostramos errores de negocio (ej. "Monto debe ser positivo") *@
        @Html.ValidationSummary(true, "", new { @class = "alert alert-danger" })

        @using (Html.BeginForm("IngresarDinero", "Billetera", FormMethod.Post, new { role = "form" }))
        {
            @Html.AntiForgeryToken()

            <div class="form-floating mb-3">
                @Html.TextBoxFor(m => m.Monto, new { @class = "form-control form-control-lg", type = "number", step = "0.01", placeholder = "Monto" })
                @Html.LabelFor(m => m.Monto)
                @Html.ValidationMessageFor(m => m.Monto, "", new { @class = "text-danger small" })
            </div>

            <div class="form-floating mb-3">
                @* Esto es una simulación. En el mundo real, sería una pasarela de pagos. *@
                @Html.DropDownListFor(m => m.MetodoPagoSimulado, new SelectList(
                    new[] {
                        new { Value = "Tarjeta de Débito Visa **** 1234", Text = "Tarjeta de Débito Visa **** 1234" },
                        new { Value = "Tarjeta de Crédito Master **** 5678", Text = "Tarjeta de Crédito Master **** 5678" },
                    }, "Value", "Text"),
                    "Seleccionar un método de pago",
                    new { @class = "form-select form-select-lg" }
                )
                @Html.LabelFor(m => m.MetodoPagoSimulado)
                @Html.ValidationMessageFor(m => m.MetodoPagoSimulado, "", new { @class = "text-danger small" })
            </div>

            <div class="d-grid gap-2 mt-4">
                <button type="submit" class="btn btn-primary btn-lg">Ingresar</button>
                <a href="@Url.Action("Index", "Billetera")" class="btn btn-outline-secondary">
                    Cancelar
                </a>
            </div>
        }
    </div>
</div>

@section Scripts {
    @* Re-habilitamos las validaciones del lado del cliente *@
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
}